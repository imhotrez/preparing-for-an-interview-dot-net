#### ПРОМПТ
Представь что ты - лучший в мире промпт-инженер и у тебя стоит задача написать промпт для Chat GPT, чтобы он предоставил наилучшее решение.
Задача такая: разработчик имеет базовые навыки использования PostgreSQL. Нужно составить для него учебный план повышения квалификации так, чтобы:
- убедиться что разработчик твердо знает всю необходимую базу СУБД в целом и PostgreSQL в частности.
- Максимально раскрыть темы индексов
- Максимально раскрыть темы анализа производительности запросов в SQL
- Максимально раскрыть темы вертикального и горизонтального масштабирования
- Максимально раскрыть темы репликации
- Максимально раскрыть все остальные темы, которые необходимо знать чтобы успешно проходить собеседования Big Tech компании на позиции ведущего backend разработчика и архитектора.
Для каждого пункта из учебного плана так же нужно будет составить наилучший промпт.

---

Вот как может выглядеть тщательно проработанный учебный план повышения квалификации разработчика в PostgreSQL, а также соответствующие промпты для каждого пункта:

---
https://www.postgresql.org/docs/17/index.html
---

## **Учебный план повышения квалификации в PostgreSQL**

### **1. Основы реляционных баз данных и PostgreSQL**

#### Что изучить:

- Архитектура реляционных баз данных.
- Основные концепции PostgreSQL (таблицы, схемы, роли, транзакции).
- Типы данных PostgreSQL (integer, numeric, text, JSON, arrays, etc.).
- DDL (Data Definition Language): создание, изменение, удаление таблиц.
- DML (Data Manipulation Language): вставка, обновление, удаление, выборка данных.
- Механизмы блокировок (locks) и транзакции в PostgreSQL.
- Основы ACID.

#### Промпт:

_«Представь, что ты — опытный наставник по PostgreSQL. Составь подробное руководство, которое поможет начинающему разработчику освоить базовые концепции PostgreSQL: архитектура, типы данных, работа с таблицами, транзакции и блокировки. Включи примеры кода и объясни, как они работают.»_

---

### **2. Индексы в PostgreSQL**

#### Что изучить:

- Типы индексов: B-Tree, Hash, GiST, GIN, BRIN.
- Когда использовать каждый тип индекса.
- Покрывающие индексы (covering indexes).
- Составные индексы.
- Индексы для JSON и JSONB.
- Параллельные индексы.
- Создание, удаление и обновление индексов.
- Понимание EXPLAIN и планов выполнения запросов.

#### Промпт:

_«Ты — мировой эксперт по PostgreSQL и индексам. Подготовь учебное пособие, которое глубоко раскрывает тему индексов в PostgreSQL: все типы индексов, их внутреннее устройство, примеры использования и оптимизации. Объясни, как анализировать планы запросов с помощью EXPLAIN, чтобы понять влияние индексов.»_

---

### **3. Анализ производительности запросов**

#### Что изучить:

- Использование EXPLAIN и EXPLAIN ANALYZE.
- Профилирование запросов с помощью `pg_stat_statements`.
- Оптимизация запросов: выбор индексов, фильтров, группировок.
- Влияние join-ов, подзапросов и CTE на производительность.
- Тюннинг параметров PostgreSQL (work_mem, shared_buffers, etc.).
- Влияние VACUUM и Autovacuum.
- Механизм query caching и его ограничения.

#### Промпт:

_«Ты — эксперт по оптимизации запросов в PostgreSQL. Напиши руководство, как анализировать и оптимизировать производительность SQL-запросов. Объясни, как правильно использовать EXPLAIN/EXPLAIN ANALYZE, профилировать запросы с pg_stat_statements, оптимизировать JOIN-ы, подзапросы и настройки PostgreSQL.»_

---

### **4. Репликация и высокодоступные системы**

#### Что изучить:

- Логическая и потоковая репликация в PostgreSQL.
- Настройка master-slave репликации.
- Использование реплики для чтения (read replicas).
- Мониторинг репликации.
- Настройка автоматического failover (pgpool-II, Patroni).
- Различия между синхронной и асинхронной репликацией.

#### Промпт:

_«Ты — ведущий архитектор систем с высокой доступностью на PostgreSQL. Объясни, как настроить репликацию в PostgreSQL: потоковую и логическую, синхронную и асинхронную. Расскажи, как организовать автоматический failover и использовать read replicas для разгрузки нагрузки. Включи примеры конфигурации и лучшие практики.»_

---

### **5. Масштабирование PostgreSQL**

#### Что изучить:

- Вертикальное масштабирование (тюннинг ресурсов: память, процессоры, диск).
- Горизонтальное масштабирование: шардинг (sharding), партицирование таблиц.
- Использование FDW (Foreign Data Wrappers).
- Модели разделения данных: hash-based, range-based, list-based.
- Инструменты для масштабирования PostgreSQL (Citus, pg_partman).

#### Промпт:

_«Ты — эксперт по масштабированию PostgreSQL. Напиши руководство, которое объясняет стратегии масштабирования: вертикальное, горизонтальное, шардинг, партицирование. Объясни, когда и как использовать Citus или FDW для распределённых систем. Включи примеры и рекомендации для больших нагрузок.»_

---

### **6. Администрирование и управление PostgreSQL**

#### Что изучить:

- Установка и настройка PostgreSQL.
- Управление пользователями и правами доступа.
- Резервное копирование и восстановление (pg_dump, pg_restore, WAL archiving).
- Мониторинг базы данных (pgAdmin, Prometheus, Grafana).
- Обновление PostgreSQL: стратегии минимизации даунтайма.

#### Промпт:

_«Ты — эксперт по администрированию PostgreSQL. Напиши пособие, которое объясняет, как установить и настроить PostgreSQL, управлять пользователями, настраивать резервное копирование и мониторинг. Включи пошаговые инструкции и советы для минимизации даунтайма при обновлении версии PostgreSQL.»_

---

### **7. Углубленные темы и архитектура PostgreSQL**

#### Что изучить:

- MVCC (многоверсионный контроль конкурентного доступа).
- Планировщик запросов и его работа.
- Генерация и использование статистики (ANALYZE, auto vacuum).
- Пользовательские функции и расширения (PL/pgSQL, PL/Python).
- Расширения PostgreSQL: PostGIS, hstore, pg_trgm.
- Настройка параметров конфигурации PostgreSQL (postgresql.conf).

#### Промпт:

_«Ты — архитектор PostgreSQL. Объясни, как работает MVCC, планировщик запросов и механизм статистики в PostgreSQL. Раскрой тему создания пользовательских функций и использования популярных расширений. Включи примеры, которые демонстрируют использование этих технологий в реальных задачах.»_

---

### **8. Подготовка к собеседованию в Big Tech**

#### Что изучить:

- Типичные вопросы о базах данных на собеседованиях.
- Как объяснить архитектурные решения (репликация, шардинг, индексация).
- Примеры сложных SQL-запросов с объяснением.
- Решение практических задач по оптимизации запросов и масштабированию.

#### Промпт:

_«Ты — технический интервьюер в Big Tech компании. Составь список вопросов и практических задач по PostgreSQL для уровня Senior/Lead разработчика. Включи примеры вопросов на архитектуру, оптимизацию запросов, масштабирование, репликацию и индексацию. Добавь пошаговые объяснения для правильных ответов.»_

---

### **9. Практика на реальных проектах**

#### Что изучить:

- Разработка схемы базы данных для реального проекта.
- Настройка репликации и высокодоступности.
- Оптимизация медленных запросов.
- Настройка системы мониторинга.

#### Промпт:

_«Ты — наставник по PostgreSQL. Напиши план учебного проекта, который включает создание базы данных для реального приложения, настройку репликации, оптимизацию производительности и мониторинг. Объясни, как внедрять изученные темы в реальных проектах.»_

---

С таким учебным планом и промптами разработчик сможет не только углубить свои знания, но и получить практический опыт для успешной работы и прохождения собеседований в ведущие компании! 😊
